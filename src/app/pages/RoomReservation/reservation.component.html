<div class="reservations-container">
  <div class="halls-grid">
    <ng-container *ngFor="let room of ['farabi', 'ferdowsi', 'saadi', 'hafez', 'khayyam', 'molana']">
      <div class="hall-card">
        <div class="circle">
          <img
            [src]="
              room === 'farabi'
                ? 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSMU39gGjLpuUXCok9HrASKK4QZQYgZNxyqpw&s'
                : room === 'ferdowsi'
                ? 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSVdok9e5lq4WJOJH9GBUWEaEzFOCePZlrj7A&s'
                : room === 'saadi'
                ? 'https://bonyadbidel.ir/wp-content/uploads/2025/04/photo_2025-04-21_16-54-23.jpg'
                : room === 'hafez'
                ? 'https://www.beytoote.com/images/stories/economic/hhe129.jpg'
                : room === 'khayyam'
                ? 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS3e6_wRZ-NPZKmzBm2jbWPG7bIxX8i5IDe7rkHaeolvvBXFhwqoMDm562-id0scyHX-CA&usqp=CAU'
                : 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTuzBsIzbwPP51tC13VdemY5enR4jR6h2pjZw&s'
            "
            alt="{{ room }}"
          />
        </div>

        <p class="hall-name">
          {{
            room === 'farabi' ? 'ÙØ§Ø±Ø§Ø¨ÛŒ' :
            room === 'ferdowsi' ? 'ÙØ±Ø¯ÙˆØ³ÛŒ' :
            room === 'saadi' ? 'Ø³Ø¹Ø¯ÛŒ' :
            room === 'hafez' ? 'Ø­Ø§ÙØ¸' :
            room === 'khayyam' ? 'Ø®ÛŒØ§Ù…' : 'Ù…ÙˆÙ„Ø§Ù†Ø§'
          }}
        </p>
         <p class="hall-name">
          {{
            room === 'farabi' ? 'Ø¸Ø±ÙÛŒØª Ø³Ø§Ù„Ù† :45' :
            room === 'ferdowsi' ? 'Ø¸Ø±ÙÛŒØª Ø³Ø§Ù„Ù† :30' :
            room === 'saadi' ? 'Ø¸Ø±ÙÛŒØª Ø³Ø§Ù„Ù† :60' :
            room === 'hafez' ? 'Ø¸Ø±ÙÛŒØª Ø³Ø§Ù„Ù† :55' :
            room === 'khayyam' ? 'Ø¸Ø±ÙÛŒØª Ø³Ø§Ù„Ù† :40' : 'Ø¸Ø±ÙÛŒØª Ø³Ø§Ù„Ù† :45'
          }}
        </p>
        <button pButton label="Ø±Ø²Ø±Ùˆ Ø³Ø§Ù„Ù†" class="reserve-btn mt-5" severity="success" (click)="showOverlay(room, $event)"></button>

        <!-- Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø±Ø²Ø±Ùˆ -->
        <p-overlay class="" [visible]="overlayVisible[room]" appendTo="body">
          <div class="overlay-panel calendar-panel">
            <input type="text" placeholder="Ù†Ø§Ù… Ø¯Ø±Ø³" class="lesson-input border border-gray-400 rounded-md focus:border-blue-500 p-1 w-100 text-right placeholder:text-right mb-5" [(ngModel)]="reservations[room].lessonName"/>

            <!-- ØªÙ‚ÙˆÛŒÙ… Ø´Ù…Ø³ÛŒ -->
            <jalali-datepicker   (dateSelected)="onDateSelected(room, $event)"></jalali-datepicker>

            <div class="time-select mt-5 ">
              <label></label>
              <input class="ml-10" type="time" [(ngModel)]="reservations[room].endTime" />
              <label></label>
              <input class="ml-20" type="time" [(ngModel)]="reservations[room].startTime" />
            </div>
            <button pButton type="button" class="save-btn" label="Ø°Ø®ÛŒØ±Ù‡"(click)="saveDateTime(room)"></button>
          </div>
        </p-overlay>
      </div>
    </ng-container>
  </div>

  <!-- âœ… Ù„ÛŒØ³Øª Ø±Ø²Ø±ÙˆÙ‡Ø§ÛŒ Ø«Ø¨Øªâ€ŒØ´Ø¯Ù‡ -->
  <div class="saved-list mb-30" *ngIf="savedReservations.length > 0">
    <h3 >ğŸ“‹ Ù„ÛŒØ³Øª Ø±Ø²Ø±ÙˆÙ‡Ø§ÛŒ Ø«Ø¨Øªâ€ŒØ´Ø¯Ù‡</h3>
    <table class="reservation-table border-separate border-spacing-x-45 border-spacing-y-6 mt-10">
      <thead>
        <tr >
          <th >Ù†Ø§Ù… Ø³Ø§Ù„Ù†</th>
          <th>Ù†Ø§Ù… Ø¯Ø±Ø³</th>
          <th>ØªØ§Ø±ÛŒØ® Ø§Ù…ØªØ­Ø§Ù†</th>
          <th>Ø³Ø§Ø¹Øª Ø´Ø±ÙˆØ¹</th>
          <th>Ø³Ø§Ø¹Øª Ù¾Ø§ÛŒØ§Ù†</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of savedReservations">
          <td>{{ 
            item.room === 'farabi' ? 'ÙØ§Ø±Ø§Ø¨ÛŒ' :
            item.room === 'ferdowsi' ? 'ÙØ±Ø¯ÙˆØ³ÛŒ' :
            item.room === 'saadi' ? 'Ø³Ø¹Ø¯ÛŒ' :
            item.room === 'hafez' ? 'Ø­Ø§ÙØ¸' :
            item.room === 'khayyam' ? 'Ø®ÛŒØ§Ù…' : 'Ù…ÙˆÙ„Ø§Ù†Ø§'
          }}</td>
          <td>{{ item.lessonName }}</td>
          <td>{{ item.date }}</td>
          <td>{{ item.startTime }}</td>
          <td>{{ item.endTime }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>



