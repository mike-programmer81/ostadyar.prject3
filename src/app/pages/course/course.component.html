<div dir="rtl" class="max-w-6xl mx-auto p-6 select-none">

  <h2 class="text-3xl text-right mr-3 font-extrabold mb-8 text-indigo-700">
    ğŸ“˜ Ø¯Ø±ÙˆØ³ Ø§Ø³ØªØ§Ø¯
  </h2>

  <!-- Ú©Ø§Ø±Øª Ø¯Ø±ÙˆØ³ -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

    <div
      *ngFor="let course of courses"
      class="bg-white border border-gray-200 rounded-xl shadow-md p-5 cursor-pointer transition transform hover:-translate-y-1 hover:shadow-lg"
    >

      <h3 class="text-xl font-bold text-indigo-600 mb-2 text-right">
        {{ course.courseName }}
      </h3>

      <p class="text-gray-600 text-right mb-2">
        Ú©Ø¯ Ø¯Ø±Ø³: <span class="font-semibold">{{ course.courseCode }}</span>
      </p>

      <p class="text-gray-700 text-right mb-4">
        Ø§Ø³ØªØ§Ø¯:
        <span class="font-semibold">
          {{ course.teacher.firstName }} {{ course.teacher.lastName }}
        </span>
      </p>

      <button
        pButton
        label="Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø±Ø³"
        icon="pi pi-chevron-left"
        class="p-button-rounded p-button-info w-full"
        (click)="openCourse(course)">
      </button>

    </div>

  </div>
</div>


<!-- Dialog: Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ù…Ù„ÛŒØ§Øª -->
<p-dialog
  [(visible)]="courseDialog"
  header="Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ù…Ù„ÛŒØ§Øª"
  [modal]="true"
  [style]="{width: '400px'}"
  class="text-center"
>

  <h3 class="text-lg font-bold text-indigo-700 mb-4">
    {{ selectedCourse?.courseName }}
  </h3>

  <div class="flex flex-col gap-4">
    <button
      pButton
      label="ğŸ“š Ù„ÛŒØ³Øª Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù†"
      class="p-button-success w-full"
      (click)="openStudents()">
    </button>

    <button
      pButton
      label="ğŸ“ ØªØ§Ø±ÛŒØ®â€ŒÙ‡Ø§ÛŒ Ø§Ù…ØªØ­Ø§Ù†ÛŒ"
      class="p-button-warning w-full"
      (click)="openExams()">
    </button>
  </div>

</p-dialog>


<!-- Dialog Ù„ÛŒØ³Øª Ø¯Ø§Ù†Ø´Ø¬ÙˆÙ‡Ø§ -->
<p-dialog
  [(visible)]="studentsDialog"
  header="Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù†"
  [modal]="true"
  [style]="{width: '650px'}">

  <p-table [value]="selectedCourse?.students ?? []">
    <ng-template pTemplate="header">
      <tr>
        <th>Ù†Ø§Ù…</th>
        <th>Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ</th>
        <th>Ø´Ù…Ø§Ø±Ù‡ Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒÛŒ</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-st>
      <tr>
        <td>{{ st.firstName }}</td>
        <td>{{ st.lastName }}</td>
        <td>{{ st.studentNumber }}</td>
      </tr>
    </ng-template>
  </p-table>

</p-dialog>


<!-- Dialog Ù„ÛŒØ³Øª Ø§Ù…ØªØ­Ø§Ù†â€ŒÙ‡Ø§ -->
<p-dialog
  [(visible)]="examsDialog"
  header="ØªØ§Ø±ÛŒØ®â€ŒÙ‡Ø§ÛŒ Ø§Ù…ØªØ­Ø§Ù†ÛŒ"
  [modal]="true"
  [style]="{width: '750px'}">

  <p-dialog
  [(visible)]="examsDialog"
  header="ØªØ§Ø±ÛŒØ®â€Œ Ù‡Ø§ÛŒ Ø§Ù…ØªØ­Ø§Ù†ÛŒ"
  [modal]="true"
  [style]="{width: '650px'}">

  <p-table [value]="selectedCourse?.exams ?? []">
    <ng-template pTemplate="header">
      <tr>
        <th>Ù†Ø§Ù… Ø§Ù…ØªØ­Ø§Ù†</th>
        <th>Ø´Ø±ÙˆØ¹</th>
        <th>Ù¾Ø§ÛŒØ§Ù†</th>
        <th>Ú©Ù„Ø§Ø³</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-ex>
      <tr>
        <td>{{ ex.name }}</td>
        <td>{{ ex.startDate | date:'yyyy/MM/dd HH:mm' }}</td>
        <td>{{ ex.endDate   | date:'yyyy/MM/dd HH:mm' }}</td>
        <td>{{ ex.room.name }} (Ø¸Ø±ÙÛŒØª: {{ ex.room.capacity }})</td>
      </tr>
    </ng-template>
  </p-table>

</p-dialog>


</p-dialog>
