<div class="flex flex-row-reverse min-h-screen bg-[#f5f9ff] dark">

  <!-- ✅ سایدبار -->
<div class="w-1/6"></div>

  <!-- ✅ محتوای اصلی -->
  <div class="w-4/6 p-6 space-y-6 text-right">

    <!-- کارت خوش‌آمدگویی -->
   <div header="خوش آمدید" subheader="کاربر: استاد">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-center">

    <!-- ✅ سمت راست: تقویم شمسی -->
    <div class="bg-white rounded-md shadow p-4 text-center  rounded-xl ">
  <div class="font-bold text-lg mb-4 text-blue-800">
  {{monthName}} {{ today.jy }}
  </div>

  <!-- روزهای هفته -->
  <div class="grid grid-cols-7 gap-2 text-sm text-gray-700 mb-2  ">
    @for (day of daysOfWeek; track day) {
      <div class="">{{ day }}</div>
    }
  </div>

  <!-- روزهای ماه -->
  <div class="grid grid-cols-7 gap-2 text-sm cursor-pointer  ">
    @for (day of calendarGrid; track day) {
      <div
        [class.bg-blue-600]="isToday(day)"
        [class.text-white]="isToday(day)"
        [class.rounded-full]="isToday(day)"
        class="py-1 text-center hover:text-yellow-200 ">
        {{ day ?? '' }}
      </div>
    }
  </div>
</div>

    <!-- ✅ سمت چپ: پروفایل استاد -->
    <div class="flex flex-col items-center justify-center text-center">
      <img src="https://placehold.co/80" alt="عکس استاد" class="rounded-full mb-2">
      <h2 class="text-base font-bold">استاد مهتاب</h2>
      <p class="text-sm text-gray-600 mb-2">مدرس شبکه‌های کامپیوتری</p>
      <button pButton label="مشاهده پروفایل" icon="pi pi-user" class="p-button-outlined p-button-info"></button>
    </div>

  </div>
</div>
    <!-- کارت‌های دسترسی سریع -->
    <div class=" pt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5">
  <div class=" bg-white rounded-lg shadow p-4 text-center">
    <p class="mb-2">ایجاد امتحان جدید</p>
    <button pButton label="ایجاد" icon="pi pi-plus" class="p-button-info w-full" (click)="openDialog()"></button>
  </div>
  <div class=" bg-white rounded-lg shadow p-4 text-center">
    <p class="mb-2">ایجاد نظرسنجی</p>
    <button pButton label="ایجاد" icon="pi pi-chart-bar" class="p-button-info w-full" (click)="onclicSurvey()"></button>
  </div>
  <div class=" bg-white rounded-lg shadow p-4 text-center">
    <p class="mb-2">رزرو سالن</p>
    <button pButton label="رزرو" icon="pi pi-building" class="p-button-info w-full" (click)="onclicReservation()"></button>
  </div>
</div>

<p-dialog header="ایجاد امتحان جدید" [(visible)]="showDialog" [modal]="true" [closable]="false" [style]="{width: '400px'}">
  <div class="flex flex-col gap-4">
    <div>
      <label class="block mb-1 text-sm">نام درس</label>
      <input type="text" [(ngModel)]="newExam.course" class="p-inputtext w-full" />
    </div>
    <div>
      <label class="block mb-1 text-sm">تاریخ</label>
      <jalali-datepicker (dateSelected)="onDatePicked($event)"></jalali-datepicker>

    </div>
    <div>
      <label class="block mb-1 text-sm">مدت زمان (دقیقه)</label>
      <input type="number" [(ngModel)]="newExam.duration" class="p-inputtext w-full" />
    </div>
    <div class="flex justify-end gap-2 mt-4">
      <button pButton label="انصراف" class="p-button-secondary" (click)="showDialog = false"></button>
      <button pButton label="ذخیره" class="p-button-success" (click)="saveExam()"></button>
    </div>
  </div>
</p-dialog>



    <!-- جدول امتحانات -->
    <div class="bg-white rounded-md shadow p-4">
      <p-table [value]="exams" responsiveLayout="scroll">
  <ng-template pTemplate="header">
    <tr>
      <th>درس</th>
      <th>تاریخ</th>
      <th>مدت زمان</th>
      <th>وضعیت</th>
      <th>رأی</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-exam let-i="rowIndex">
    <tr>
      <td>{{ exam.course }}</td>
      <td>{{ exam.date }}</td>
      <td>{{ exam.duration }} دقیقه</td>
      <td><span class="p-tag p-tag-info">در حال انتظار</span></td>
      <td>
        <div class="flex items-center gap-2 justify-center">
          <button pButton icon="pi pi-thumbs-up" class="p-button-sm p-button-success" (click)="vote(i, 'up')"></button>
          <span>{{ exam.votes }}</span>
          <button pButton icon="pi pi-thumbs-down" class="p-button-sm p-button-danger" (click)="vote(i, 'down')"></button>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>

    </div>

  </div>
</div>
<div class="w-1/6"></div>